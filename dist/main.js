!function(e){var n={};function r(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=n,r.d=function(e,n,a){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(a,t,function(n){return e[n]}.bind(null,t));return a},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=4)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = isElementInViewport;\n// Walf\'s answer in StackOverflow\n// http://stackoverflow.com/a/16270434/1856898\nfunction isElementInViewport(el, viewport) {\n  viewport = viewport || window || document.documentElement;\n  var rect = el.getBoundingClientRect();\n\n  return rect.bottom > 0 && rect.right > 0 && rect.left < (viewport.innerWidth || viewport.clientWidth) && rect.top < (viewport.innerHeight || viewport.clientHeight);\n}\n\n//# sourceURL=webpack:///./src/helpers/isElementInViewport.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.default = getAllNodeParent;\n// techfoobar\'s answer in StackOverflow\n// https://stackoverflow.com/questions/8729193/how-to-get-all-parent-nodes-of-given-element-in-pure-javascript?rq=1\nfunction getAllNodeParent(element) {\n    var nodes = [];\n    nodes.push(element);\n    while (element.parentNode) {\n        nodes.unshift(element.parentNode);\n        element = element.parentNode;\n    }\n    return nodes;\n}\n\n//# sourceURL=webpack:///./src/helpers/getAllNodeParent.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _localization = __webpack_require__(5);\n\nvar _localization2 = _interopRequireDefault(_localization);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LANGS_NORMALIZE = {\n  'de': 'de-DE',\n  'pt': 'pt-BR',\n  'en': 'en-US',\n  'en-GB': 'en-US'\n};\n\nvar LANG_DEFAULT = LANGS_NORMALIZE[navigator.language];\n\n/**\r\n * @name: localize! function to return localized strings in localization.js\r\n * @param: str {string} [required] str of language\r\n * @param: lang {string} [default navigator language]\r\n * @return str in language selected\r\n *\r\n */\n\nfunction localize(str) {\n  var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : LANG_DEFAULT;\n\n  try {\n    if (!_localization2.default.langs.hasOwnProperty(lang)) lang = 'en-US'; // default lang\n    if (_localization2.default.langs[lang][str]) {\n      return _localization2.default.langs[lang][str];\n    }\n  } catch (e) {\n    console.error('[instantgram]LOC error:', e);\n    return 'ops, an error ocurred in localization system. Enter in https://github.com/theus/instantgram/issues/new and open an issue with this code: \\'LOC_dont_found_str_neither_default:[' + lang + '->' + str + ']\\'\\n    for more information open the console';\n  }\n}\n\nconsole.info(localize('helpers.localize_defaultlang').replace('${LANG_DEFAULT}', LANG_DEFAULT));\n\nexports.default = localize;\n\n//# sourceURL=webpack:///./src/helpers/localize.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (array, callback, scope) {\n    for (var i = 0; i < array.length; i++) {\n        callback.call(scope, i, array[i]);\n    }\n};\n\n//# sourceURL=webpack:///./src/helpers/forEach.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _localize = __webpack_require__(2);\n\nvar _localize2 = _interopRequireDefault(_localize);\n\nvar _update = __webpack_require__(6);\n\nvar _update2 = _interopRequireDefault(_update);\n\nvar _forEach = __webpack_require__(3);\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nvar _isElementInViewport = __webpack_require__(0);\n\nvar _isElementInViewport2 = _interopRequireDefault(_isElementInViewport);\n\nvar _isOnArticle = __webpack_require__(7);\n\nvar _isOnArticle2 = _interopRequireDefault(_isOnArticle);\n\nvar _searchImage = __webpack_require__(8);\n\nvar _searchImage2 = _interopRequireDefault(_searchImage);\n\nvar _searchVideoOnScreen = __webpack_require__(9);\n\nvar _searchVideoOnScreen2 = _interopRequireDefault(_searchVideoOnScreen);\n\nvar _searchImageOnScreen = __webpack_require__(10);\n\nvar _searchImageOnScreen2 = _interopRequireDefault(_searchImageOnScreen);\n\nvar _searchStories = __webpack_require__(12);\n\nvar _searchStories2 = _interopRequireDefault(_searchStories);\n\nvar _getVideoOnPage = __webpack_require__(13);\n\nvar _getVideoOnPage2 = _interopRequireDefault(_getVideoOnPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (true) console.clear();\n\nvar program = {\n  VERSION: \"3.0.1\",\n  hostname: window.location.hostname,\n  path: window.location.pathname,\n  images: [],\n  imagesOnViewPort: [],\n  videos: document.querySelectorAll('video'),\n  regexOriginalImage: /\\/[a-z]+\\d+[a-z]?x\\d+[a-z]?/, // ex: url p750x750/\n  regexMaxResImage: /\\/[a-z]+[1080]+[a-z]?x[1080]+[a-z]?/, // ex: url p1080x1080/\n  regexPath: /^\\/p\\//,\n  regexHostname: /instagram\\.com/,\n  regexStoriesURI: /stories\\/(.*)+/,\n  regexURL: /([--:\\w?@%&+~#=]*\\.[a-z]{2,4}\\/{0,2})((?:[?&](?:\\w+)=(?:\\w+))+|[--:\\w?@%&+~#=]+)?/,\n  foundByModule: null,\n\n  probablyHasAGallery: {\n    check: null,\n    byModule: ''\n  },\n\n  checkImageIntegrity: function checkImageIntegrity(hdimg, originalimg) {\n    var self = this;\n    var xhr = new window.XMLHttpRequest();\n    xhr.addEventListener('readystatechange', function () {\n      if (this.readyState === 4 && this.status === 200) {\n        self.imageLink = hdimg;\n      } else {\n        self.imageLink = originalimg;\n      }\n    });\n\n    xhr.open('GET', hdimg);\n    xhr.send();\n  },\n\n  setImageLink: function setImageLink(link) {\n    this.imageLinkBeforeParse = link;\n\n    if (this.regexMaxResImage.test(link)) {\n      this.imageLink = link;\n    } else {\n      this.imageLink = this.regexOriginalImage.test(link) ? link.replace(this.regexOriginalImage, '') : link;\n    }\n\n    this.isImageLinkEqualToImageLinkBeforeParse = this.imageLink === this.imageLinkBeforeParse;\n\n    this.checkImageIntegrity(this.imageLink, this.imageLinkBeforeParse);\n  },\n\n  foundVideo: false,\n  foundImage: false,\n  imageLink: false,\n  imageLinkBeforeParse: false,\n  isImageLinkEqualToImageLinkBeforeParse: null,\n\n  alertNotInInstagramPost: false,\n  context: {\n    hasMsg: false,\n    msg: ''\n  }\n};\n\nvar documentImages = document.images;\n\n(0, _forEach2.default)(documentImages, function (index, image) {\n  if ((0, _isOnArticle2.default)(image) || documentImages.length === 2) {\n    // story has only 2 images (the main and the avatar)\n    program.images.push(image);\n    if ((0, _isElementInViewport2.default)(image)) program.imagesOnViewPort.push(image);\n  }\n});\n\n// verify if are running in instagram site\nif (!program.regexHostname.test(program.hostname)) window.alert((0, _localize2.default)('index@alert_onlyWorks'));\n\n/* ===============================\n=            Program            =\n===============================*/\nif (program.regexHostname.test(program.hostname)) {\n  if ((0, _getVideoOnPage2.default)(program) === false) {\n    if ((0, _searchStories2.default)(program) === false) {\n      if ((0, _searchVideoOnScreen2.default)(program) === false) {\n        if ((0, _searchImage2.default)(program) === false) {\n          if ((0, _searchImageOnScreen2.default)(program) === false) {\n            program.context.hasMsg = false;\n          }\n        }\n      }\n    }\n  }\n\n  if (true) console.info('dev mode', program);\n\n  if (program.context.hasMsg) window.alert((0, _localize2.default)(program.context.msg));\n  if (program.alertNotInInstagramPost && !program.foundVideo && !program.foundImage) window.alert((0, _localize2.default)('index#program@alert_dontFound'));\n  (0, _update2.default)(program.VERSION);\n}\n/* =====  End of Program  ======*/\n\n//# sourceURL=webpack:///./src/index.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n      value: true\n});\nexports.default = {\n      'langs': {\n            'en-US': {\n                  'helpers.localize_defaultlang': '[instantgram] set language: ${LANG_DEFAULT} \\n For more information about available languages please check http://theus.github.io/instantgram',\n\n                  'modules.update@oudated_outdated': '[instantgram] is outdated. Please check http://theus.github.io/instantgram for available updates.',\n                  'modules.update@oudated_localInfo': '[instantgram] Installed version: ${data.version} | New update: ${data.gitVersion}',\n                  'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram] is looking for available updates…',\n                  'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram] updated your current version.',\n                  'modules.update@determineIfGetUpdateIsNecessary_@alert_found': '[instantgram] found a new available update.\\nPlease check <a href=\"http://theus.github.io/instantgram\">http://theus.github.io/instantgram</a> to install it.',\n\n                  'index@alert_onlyWorks': '[instantgram] only works on instagram.com.',\n                  'index#program#modal@alert_dontFound': \"[instantgram] didn't find any image in this Instagram post. Please try to open the link in a new tab.\",\n                  'index#program#post@alert_dontFound': \"Ops, [instantgram] couldn't find any image  :-(\",\n                  'index#program#screen@alert_dontFound': '[instantgram] found more than 1 image. Are you on a profile page? If yes, please open a single post first and open [instantgram] again.',\n                  'index#program@alert_dontFound': 'Ops, did you open any Instagram post? Like for example instagram.com/p/82jd828jd',\n                  'index#program@alert_videoBlob': \"If you're trying open a video, try enter on Instagram post page. Like for example instagram.com/p/82jd828jd. If you're already in it, try refreshing the page before running [instantgram] or open the post in a new tab. (this proccess is neccessary only for videos)\"\n            },\n            'pt-BR': {\n                  'helpers.localize_defaultlang': '[instantgram] idioma configurado: ${LANG_DEFAULT} \\npara mais informações sobre os idiomas suportados, acesse http://theus.github.io/instantgram',\n\n                  'modules.update@oudated_outdated': '[instantgram] está desatualizado. Acesse http://theus.github.io/instantgram para atualizar',\n                  'modules.update@oudated_localInfo': '[instantgram] versão local: ${data.version} | nova versão: ${data.gitVersion}',\n                  'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram] está procurando atualizações...',\n                  'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram] informações locais atualizadas',\n                  'modules.update@determineIfGetUpdateIsNecessary_@alert_found': '[instantgram] encontrou uma atualização.\\n acesse theus.github.io/instantgram para atualizar',\n\n                  'index@alert_onlyWorks': '[instantgram] somente funciona no instagram.com',\n                  'index#program#modal@alert_dontFound': '[instantgram] não encontrou uma imagem em um post. Tente abrir o link em uma nova aba.',\n                  'index#program#post@alert_dontFound': 'ops, [instantgram] não encontrou a imagem :(',\n                  'index#program#screen@alert_dontFound': '[instantgram] a procura por imagem na tela encontrou mais de 1 imagem. Você está em um perfil? Se sim, abra alguma imagem antes de rodar o [instantgram]',\n                  'index#program@alert_dontFound': 'ops, você está em algum post do instagram? ex: instagram.com/p/82jd828jd',\n                  'index#program@alert_videoBlob': \"Se você está tentando abrir um vídeo, tente entrar na página do post do Instagram. ex: instagram.com/p/82jd828jd. Se você já está na página, tente atualizar a página antes de executar o [instantgram] ou abra o post em uma nova aba. (este processo só é necessário com vídeos)\"\n            },\n            'de-DE': {\n                  'helpers.localize_defaultlang': 'Ausgewählte Sprache: ${LANG_DEFAULT} \\n Weitere Informationen zu den unterstützten Sprachen findest du auf http://theus.github.io/instantgram',\n\n                  'modules.update@oudated_outdated': '[instantgram] ist veraltet. Bitte besuche die Seite http://theus.github.io/instantgram für ein Update.',\n                  'modules.update@oudated_localInfo': '[instantgram] Installierte Version ${data.version} | Neue Version: ${data.gitVersion}',\n                  'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram] sucht nach neuen verfügbaren Updates…',\n                  'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram] wurde aktualisiert.',\n                  'modules.update@determineIfGetUpdateIsNecessary_@alert_found': '[instantgram] hat ein neues Update gefunden.\\nBitte besuche die Seite http://theus.github.io/instantgram, um das Update zu installieren.',\n\n                  'index@alert_onlyWorks': '[instantgram] funktioniert nur mit instagram.com.',\n                  'index#program#modal@alert_dontFound': \"[instantgram] konnte kein Bild in diesem Post finden. Bitte öffne den Link in einem neuen Tab.\",\n                  'index#program#post@alert_dontFound': \"Ops, [instantgram] konnte leider kein Bild finden  :-(\",\n                  'index#program#screen@alert_dontFound': '[instantgram] hat mehr als 1 Bild gefunden. Bist du in der Profilansicht? Falls ja, öffne bitte zuerst einen einzelnen Post und führe [instantgram] erneut aus.',\n                  'index#program@alert_dontFound': 'Ops, hast du einen Instagram Post geöffnet? Zum Beispiel instagram.com/p/82jd828jd',\n                  'index#program@alert_videoBlob': \"If you're trying open a video, try enter on Instagram post page. Like for example instagram.com/p/82jd828jd. If you're already in it, try refreshing the page before running [instantgram] or open the post in a new tab. (this proccess is neccessary only for videos) // we need translate this string to Deutsch, if you can help us enter in contact by Github\"\n            }\n      }\n};\n\n//# sourceURL=webpack:///./src/localization.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _localize = __webpack_require__(2);\n\nvar _localize2 = _interopRequireDefault(_localize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction outdated(data) {\n  console.warn((0, _localize2.default)('modules.update@oudated_outdated'));\n  console.warn((0, _localize2.default)('modules.update@oudated_localInfo').replace('${data.version}', data.version).replace('${data.gitVersion}', data.gitVersion));\n}\n\nfunction determineIfGetUpdateIsNecessary() {\n  var data = window.localStorage.getItem('instantgram');\n  if (data) {\n    data = JSON.parse(data);\n    // compare versions cached\n    if (data.version !== data.gitVersion) {\n      outdated(data);\n    }\n    // compare date now with expiration\n    if (Date.now() > data.dateExpiration) {\n      return true; // must have update new informations from github\n    } else {\n        return false; // have localStorage and is on the date\n      }\n  } else {\n      return true; // dont have localStorage\n    }\n}\n\nfunction update(v) {\n\n  var vNumber = v.replace(/\\./g, '');\n  vNumber = parseInt(vNumber);\n\n  if (determineIfGetUpdateIsNecessary()) {\n    var xhr = new window.XMLHttpRequest();\n    xhr.addEventListener('readystatechange', function () {\n      console.info((0, _localize2.default)('modules.update@determineIfGetUpdateIsNecessary_contacting'));\n\n      if (this.readyState === 4) {\n        var limitDate = new Date();\n        // verify update each 2 days\n        limitDate.setDate(limitDate.getDate() + 2);\n\n        window.localStorage.setItem('instantgram', JSON.stringify({\n          version: v,\n          gitVersion: JSON.parse(this.responseText).version,\n          lastVerification: Date.now(),\n          dateExpiration: limitDate.valueOf()\n        }));\n\n        var gitV = JSON.parse(this.responseText).version;\n        gitV = gitV.replace(/\\./g, '');\n        gitV = parseInt(gitV);\n\n        console.info((0, _localize2.default)('modules.update@determineIfGetUpdateIsNecessary_updated'));\n\n        // if git had a update, notify in console and a alert\n        if (vNumber < gitV) {\n          var data = JSON.parse(window.localStorage.getItem('instantgram'));\n          window.alert((0, _localize2.default)('modules.update@determineIfGetUpdateIsNecessary_@alert_found'));\n          outdated(data);\n        } else {\n          console.info(window.localStorage.getItem('instantgram'));\n        }\n      }\n    });\n\n    xhr.open('GET', 'https://theus.github.io/instantgram/package.json');\n    xhr.send();\n  }\n}\n\nexports.default = update;\n\n//# sourceURL=webpack:///./src/modules/update.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = isOnArticle;\n\nvar _getAllNodeParent = __webpack_require__(1);\n\nvar _getAllNodeParent2 = _interopRequireDefault(_getAllNodeParent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isOnArticle(el) {\n  return (0, _getAllNodeParent2.default)(el).filter(function (item) {\n    return item.nodeName === "ARTICLE";\n  }).length > 0;\n}\n\n//# sourceURL=webpack:///./src/helpers/isOnArticle.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = searchImage;\nfunction searchImage(program) {\n  var found = false;\n\n  // if has a gallery, pass searchImage() and go to searchImageOnScreen()\n  var hasAGallery = program.images.length > 2;\n\n  if (hasAGallery && program.regexPath.test(program.path)) {\n    program.probablyHasAGallery.check = hasAGallery;\n    program.probablyHasAGallery.byModule = 'searchImage';\n    // program.imagesOnViewPort = program.imagesOnViewPort.shift() // remove avatar image of page gallery\n  }\n\n  if (program.regexPath.test(program.path) && !program.imageLink & hasAGallery === false) {\n    // verify if are in instagram post\n    if (!program.foundVideo && !program.foundImage) {\n      // if not find a video, search images\n      /* =======================================\r\n      =            Instagram Modal            =\r\n      =======================================*/\n      try {\n        if (document.getElementsByTagName('article').length === 2) {\n          // when instagram post is a modal\n          var modal = document.getElementsByTagName('article')[1];\n          var modalImage = modal.querySelector('header + div img').src;\n\n          if (modalImage) {\n            // verify if finds a post image\n            // bring the original image if had\n\n            program.setImageLink(modalImage);\n            // program.imageLink = (program.regexOriginalImage.test(modalImage)) ? modalImage.replace(program.regexOriginalImage, '') : modalImage\n\n            // open image in new tab\n            window.open(program.imageLink);\n            found = true;\n            program.foundByModule = 'searchImage';\n          } else {\n            program.context = {\n              hasMsg: true,\n              msg: 'index#program#modal@alert_dontFound'\n            };\n          }\n        }\n      } catch (e) {\n        console.error('searchImage()', '[instantgram] ' + program.VERSION, e);\n      }\n      /* =====  End of Instagram Modal  ======*/\n\n      /* ======================================\r\n      =            Instagram Post            =\r\n      ======================================*/\n      try {\n        if (document.getElementsByTagName('article').length === 1) {\n          // verify if has a image post\n          // document.getElementsByTagName('article')[0] post container\n          var postImage = document.querySelector('article > div img').src;\n\n          // bring the original image if had\n          program.setImageLink(postImage);\n          // program.imageLink = (program.regexOriginalImage.test(postImage)) ? postImage.replace(regexOriginalImage, '') : postImage\n\n          if (program.imageLink) {\n            // open image in new tab\n            window.open(program.imageLink);\n            found = true;\n            program.foundByModule = 'searchImage';\n          } else {\n            program.context = {\n              hasMsg: true,\n              msg: 'index#program#post@alert_dontFound'\n            };\n          }\n        }\n      } catch (e) {\n        console.error('searchImage()', '[instantgram] ' + program.VERSION, e);\n      }\n      /* =====  End of Instagram Post  ======*/\n    }\n  } else {\n    program.alertNotInInstagramPost = true;\n  }\n\n  return found;\n}\n\n//# sourceURL=webpack:///./src/modules/searchImage.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = searchVideoOnScreen;\n\nvar _isElementInViewport = __webpack_require__(0);\n\nvar _isElementInViewport2 = _interopRequireDefault(_isElementInViewport);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import Alert from '../ui/alert.js'\n\nfunction searchVideoOnScreen(program) {\n  var found = false;\n\n  /* ===============================================\r\n  =            Video visible in screen            =\r\n  ===============================================*/\n  try {\n    searchVideo: {\n      // eslint-disable-line no-labels\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = program.videos[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var video = _step.value;\n\n          if ((0, _isElementInViewport2.default)(video)) {\n            // verify if is in viewport\n            var videoLink = video.src;\n            if (videoLink) {\n\n              if (videoLink.indexOf('blob:') !== -1) {\n                program.context = {\n                  hasMsg: true,\n                  msg: 'index#program@alert_videoBlob'\n                };\n                break searchVideo; // eslint-disable-line no-labels\n              } else {\n                // open image in new tab\n                window.open(videoLink);\n                found = true;\n                program.foundVideo = true;\n                program.foundByModule = 'searchVideoOnScreen';\n                program.alertNotInInstagramPost = true; // if don't find nothing, alert to open the post\n              }\n            }\n            // if found the image stop searching\n            break searchVideo; // eslint-disable-line no-labels\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  } catch (e) {\n    console.error('searchVideoOnScreen()', '[instantgram] ' + program.VERSION, e);\n  }\n  /* =====  End of Video visible in screen  ======*/\n  return found;\n}\n\n//# sourceURL=webpack:///./src/modules/searchVideoOnScreen.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = searchImageOnScreen;\n\nvar _isElementInViewport = __webpack_require__(0);\n\nvar _isElementInViewport2 = _interopRequireDefault(_isElementInViewport);\n\nvar _getAllNodeParent = __webpack_require__(1);\n\nvar _getAllNodeParent2 = _interopRequireDefault(_getAllNodeParent);\n\nvar _isProfileImage = __webpack_require__(11);\n\nvar _isProfileImage2 = _interopRequireDefault(_isProfileImage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction searchImageOnScreen(program) {\n  var found = false;\n\n  /* ===============================================\r\n  =            Image visible in screen            =\r\n  ===============================================*/\n  try {\n    if (!program.imageLink && !program.foundVideo) {\n      // verify if already found a image\n      search: {\n        // eslint-disable-line no-labels\n        program.images.reverse(); // reverse order of images -> the probably of images on screen is in the end of array\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = program.images[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var image = _step.value;\n\n\n            if ((0, _isElementInViewport2.default)(image) && !(0, _isProfileImage2.default)(image)) {\n              // verify if is in viewport\n              // bring the original image if had\n\n              var ULs = (0, _getAllNodeParent2.default)(image).filter(function (item) {\n                return item.nodeName === \"UL\";\n              });\n              var hasAGallery = ULs.length > 0;\n\n              if (hasAGallery) {\n                program.probablyHasAGallery.check = hasAGallery;\n                program.probablyHasAGallery.byModule = 'searchImageOnScreen';\n                var foundOnGallery = false;\n\n                var $slider = (0, _getAllNodeParent2.default)(image).filter(function (item) {\n                  return item.style && item.style.transform && item.style.transform !== \"\";\n                })[0];\n                var $ul = $slider.querySelector('ul');\n\n                var transform = +$slider.style.transform.split('(')[1].replace('px)', '');\n                var indexSlider = transform / image.width;\n                var indexOfActualImage = indexSlider < 0 ? indexSlider * -1 : indexSlider;\n\n                var imageOnGalleryVisible = $ul.children[indexOfActualImage].querySelector('img');\n\n                program.setImageLink(imageOnGalleryVisible.src);\n                foundOnGallery = true;\n              } else {\n                program.setImageLink(image.src);\n                // program.imageLink = (program.regexOriginalImage.test(image.src)) ? image.src.replace(program.regexOriginalImage, '') : image.src\n              }\n\n              if (program.imageLink) {\n                // open image in new tab\n                window.open(program.imageLink);\n                program.foundImage = true;\n                found = true;\n                program.foundByModule = 'searchImageOnScreen';\n              } else {\n                program.context = {\n                  hasMsg: true,\n                  msg: 'index#program#screen@alert_dontFound'\n                };\n              }\n              program.alertNotInInstagramPost = false; // if don't find nothing, alert to open the post\n              // if found the image stop searching\n              break search; // eslint-disable-line no-labels\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n    }\n  } catch (e) {\n    console.error('searchImageOnScreen()', '[instantgram] ' + program.VERSION, e);\n  }\n  /* =====  End of Image visible in screen  ======*/\n\n  return found;\n}\n\n//# sourceURL=webpack:///./src/modules/searchImageOnScreen.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = isProfileImage;\n\nvar _getAllNodeParent = __webpack_require__(1);\n\nvar _getAllNodeParent2 = _interopRequireDefault(_getAllNodeParent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isProfileImage(image) {\n  return image.parentElement.localName === \'a\' || (0, _getAllNodeParent2.default)(image).filter(function (item) {\n    return item.nodeName === "HEADER";\n  }).length > 0; // by default, instantgram detects profile image too. But we don\'t need it.\n}\n\n//# sourceURL=webpack:///./src/helpers/isProfileImage.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = searchStories;\n\nvar _forEach = __webpack_require__(3);\n\nvar _forEach2 = _interopRequireDefault(_forEach);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction searchStories(program) {\n  var found = false;\n\n  /* =====================================\r\n  =            Search Stories            =\r\n  ===================================== */\n  try {\n    if (program.regexStoriesURI.test(program.path)) {\n      var $root = document.getElementById('react-root');\n      var $divs = $root.querySelectorAll('section section div');\n\n      var story = '';\n\n      (0, _forEach2.default)($divs, function (index, div) {\n        var match = div.style.backgroundImage.match(program.regexURL);\n        if (match !== null) story = match[0];\n      });\n\n      if (story.length > 0) {\n        program.setImageLink(story);\n        // program.imageLink = (program.regexOriginalImage.test(story)) ? story.replace(program.regexOriginalImage, '') : story\n\n        // open image in new tab\n        window.open(program.imageLink);\n        found = true;\n        program.foundImage = true;\n        program.foundByModule = 'searchStories';\n      }\n\n      if (found === false) {\n        if (program.videos.length > 0) {\n          var videoLink = program.videos[0].src;\n          if (!videoLink && program.videos[0].children) videoLink = program.videos[0].children[0].src;\n\n          if (videoLink) {\n            // open image in new tab\n            window.open(videoLink);\n            found = true;\n            program.foundVideo = true;\n            program.alertNotInInstagramPost = true; // if don't find nothing, alert to open the post\n            program.foundByModule = 'searchStories';\n          }\n        }\n      }\n    }\n  } catch (e) {\n    console.error('searchStories()', '[instantgram] ' + program.VERSION, e);\n  }\n  /* =====  End of search stories  ======*/\n  return found;\n}\n\n//# sourceURL=webpack:///./src/modules/searchStories.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getVideoOnPage;\nfunction getVideoOnPage(program) {\n  var found = false;\n\n  /* ====================================\r\n  =            Video on page            =\r\n  ==================================== */\n  try {\n    if (!program.imageLink && !program.foundVideo) {\n      // verify if already found a image\n      var og_tag = document.querySelector('[property=\"og:video\"]') ? document.querySelector('[property=\"og:video\"]') : document.querySelector('[property=\"og:video:secure_url\"]') ? document.querySelector('[property=\"og:video:secure_url\"]') : null;\n\n      var video_link = og_tag ? og_tag.content : false;\n\n      if (video_link) {\n        // open image in new tab\n        window.open(video_link);\n        found = true;\n        program.foundVideo = true;\n        program.alertNotInInstagramPost = true; // if don't find nothing, alert to open the post\n      }\n    }\n  } catch (e) {\n    console.error('getVideoOnPage()', '[instantgram] ' + \"3.0.1\", e);\n  }\n  /* =====  End of Image visible in screen  ======*/\n\n  return found;\n}\n\n//# sourceURL=webpack:///./src/modules/getVideoOnPage.js?")}]);